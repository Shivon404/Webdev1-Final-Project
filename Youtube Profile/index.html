<!DOCTYPE html>
<html>
<head>
  <title>Youtube</title>
  <link rel="stylesheet" href="home.css">
  <link rel="stylesheet" href="hover.css">
  <link rel="stylesheet" href="drop.css">
  <link rel="stylesheet" href="drop2.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body class="youtube-bg">
  <div class="yt-header">
    <div class="left-header">
      <div class="tooltip-container">
        <i class="fa fa-bars" style="font-size: 20px; color: white;"></i>
        <img class="youtube-logo" src="youtube logo.png" onclick="redirectToHome()">
      </div>
    </div>
    <div class="middle-header">
      <input class="yt-search" type="text" placeholder="Search">
      <i class="fa-solid fa-magnifying-glass"></i>
      <div class="tooltip-container">
        <img class="fa-microphone" src="Untitled design (13).png">
        <p class="tooltip">Search with your voice</p>
      </div>
    </div>
    <div class="right-header">
      <div class="tooltip-container">
        <img class="fa-video" src="Untitled design (15).png" id="create-img" onclick="toggleDropdown()">
        <p class="tooltip">Create</p>
        <!-- Dropdown content for Create -->
        <div class="dropdown-content-create" id="create-dropdown">
          <a class="c-d" href="javascript:void(0)" onclick="redirectToCreate()">Upload video</a>
          <a class="c-d">Go live</a>
        </div>
      </div>
      <div class="tooltip-container">
        <img class="fa-bell" src="Untitled design (14).png">
        <p class="tooltip">Notifications</p>
      </div>
      <div class="tooltip-container profile-dropdown-container">
        <img class="profile-logo" src="profilelogo.png" id="profile-img">
        <p class="tooltip">Profile</p>
        <!-- Dropdown content -->
        <div class="dropdown-content" id="profile-dropdown">
          <div class="container-p">
            <div class="profile-info">
              <div class="img-drop">
                <img style="width: 50px; border-radius: 50%;" src="profilelogo.png">
              </div>
              <div class="name-drop">
                <p id="user-full-name">Loading...</p>
                <p id="user-username">@loading</p>
                <a href="javascript:void(0)" onclick="redirectToProfile()" style="color: rgb(79, 149, 255); font-family: Arial, Helvetica, sans-serif;">View your channel</a>
              </div>
            </div>
          </div>
          <hr>
          <p>Google Account</p>
          <p>Switch account</p>
          <p><a href="../Youtube login/logout.php" style="color: white;">Sign out</a></p>
          <hr>
          <p>Youtube Studio</p>
          <p>Purchases and memberships</p>
          <hr>
          <p>Your data in YouTube</p>
          <p>Appearance: Device theme</p>
          <p>Language: English</p>
          <p>Restricted Mode: Off</p>
          <p>Location: Philippines</p>
          <p>Keyboard shortcuts</p>
          <hr>
          <p>Settings</p>
          <hr>
          <p>Help</p>
          <p>Send feedback</p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="yt-sidebar">
    <div class="c-sidebar" onclick="redirectToHome()">
      <img class="s-sidebar" src="Untitled design (2).png">
      <p class="s-p">Home</p>
    </div>
    <div class="c-sidebar">
      <img class="s-sidebar" src="Untitled design (5).png">
      <p class="s-p">Shorts</p>
    </div>
    <div class="c-sidebar">
      <img class="s-sidebar" src="Untitled design (4).png">
      <p class="s-p">Subscription</p>
    </div>
    <div class="c-sidebar">
      <img class="s-sidebar" src="Untitled design (3).png">
      <p class="s-p">You</p>
    </div>
  </div>
  
  <div class="yt-main">
    <div class="main-container">
      <div class="p-container">
        <img class="p-image" src="profilelogo.png">
      </div>
      <div class="p-name-container">
        <p class="p-text-main" id="profile-full-name">loading..</p>
        <p class="p-text" id="profile-username">@loading..</p>
        <p class="p-text">More about this channel...more</p>
        <div class="p-button-container">
          <button class="p-button">Customize channel</button>
          <button class="p-button">Manage videos</button>
        </div>
      </div>
    </div>
     <!-- Horizontal rule below the main container -->
  </div>
  <div style="margin-left: 180px; display: flex; align-items: center;">
    <p style="color: white; font-weight: bold; margin: 0;">Home</p>
    <img style="width: 25px; margin-left: 40px;" src="Untitled design (12).png">
  </div>
  
  <hr style="height: 1px; border: none; background-color: #3d3d3d;">

  <!--supposedly this would show, kung naka upload kos youtube create-->
  <div class="below-u-container" style="display: none;">
    <p style="color: white; font-size: 23px; font-weight: bold;">Uploads</p>
    <div class="thumbnail-row">
      <div class="yt-vid-container">
        <img class="thumbnail" src="hq720 (4).png" alt="Thumbnail">
        <p class="time">0:35</p>
      </div>
      <div class="video-info">
        <p class="video-title">Dancing Cockroach on Stage</p>
        <p class="video-stats">No views &#183; Just now</p>
      </div>
    </div>
  </div>
  

  <!--Hide when the user uploaded a youtube-->
  <div class="below-container">
    <div class="b-container">
      <img class="b-image" src="Untitled design (7).png">
    </div>
    <div class="b-namr-container">
      <p class="b-text">Create content on any device</p>
      <p class="b-text">Upload and record at home or on the go.<br>Everything you make public will appear here.</p>
      <button class="b-button" onclick="redirectToProfileB">Create</button>
    </div>
  </div>
  
  <script src="function.js"></script>
  <script>
    // Get the profile image and dropdown content
    var profileImg = document.getElementById("profile-img");
    var dropdownContent = document.getElementById("profile-dropdown");

    // Toggle the dropdown content when the profile image is clicked
    profileImg.addEventListener("click", function() {
      dropdownContent.classList.toggle("show");
    });

    // Close the dropdown when clicking outside of it
    window.addEventListener("click", function(event) {
      if (!event.target.matches('#profile-img')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains("show")) {
            openDropdown.classList.remove("show");
          }
        }
      }
    });

    function toggleDropdown() {
      var dropdown = document.getElementById("create-dropdown");
      if (dropdown.style.display === "none" || dropdown.style.display === "") {
        dropdown.style.display = "block";
      } else {
        dropdown.style.display = "none";
      }
    }

    // Optional: Close the dropdown if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('#create-img')) {
        var dropdowns = document.getElementsByClassName("dropdown-content-create");
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.style.display === "block") {
            openDropdown.style.display = "none";
          }
        }
      }
    }

    // Redirection functions
    function redirectToHome() {
      window.location.href = "../Youtube Home/home.html";
    }

    function redirectToCreate() {
      window.location.href = "../Youtube Create/index.html";
    }

    function redirectToProfile() {
      window.location.href = "../Youtube Profile/index.html";
    }

    function redirectToProfileB() {
      window.location.href = "../Youtube Profile/index.html";
    }

    function redirectToLogin() {
      window.location.href = "../Youtube login/login.php";
    }

  
    function redirectToHome() {
  window.location.href = "../Youtube Home/home.html";
}

function updateUserInfoDisplay() {
    fetch('getUserInfo.php')
        .then(response => response.json())
        .then(data => {
            console.log('Fetched data:', data); // Log the fetched data for debugging
            if (data.error) {
                console.error(data.error);
            } else {  
                document.getElementById('user-full-name').textContent = data.fullName;
                document.getElementById('user-username').textContent = `@${data.username}`;
                document.getElementById('profile-full-name').textContent = data.fullName;
                document.getElementById('profile-username').textContent = `@${data.username}`;
            }
        })
        .catch(error => console.error('Error fetching user info:', error));
}

window.onload = updateUserInfoDisplay;




  </script>
</body>
</html>
